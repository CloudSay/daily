<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>

  </head>
  <body>
    账号：<input type="text" id = "user"><br>
    密码：<input type="password" id = "pass"><br>
    <input type="button" id = "reg_btn" value="注册">
    <input type="button" id = "login_btn" value="登录">
  </body>
  <script src="../jquery-2.1.0.js" charset="utf-8"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      $("#reg_btn").click(function(){
              $.ajax({
                url:"/user",
                data:{act:"reg",user:$("#user").val(),pass:$("#pass").val()},
                type:"get",
                success:function(str){
                  var json = eval('('+str+')');
                  if(json.ok){
                    alert("注册成功");
                  }else{
                    alert("注册失败："+json.msg);
                  }
                },
                error:function(){
                  alert("通信错误");
                }
              })
        })
        $("#login_btn").click(function(){
                $.ajax({
                  url:"/user",
                  data:{act:"login",user:$("#user").val(),pass:$("#pass").val()},
                  type:"post",
                  success:function(str){
                    var json = eval('('+str+')');
                    console.log(json);
                    if(json.ok){
                      alert("登录成功");
                    }else{
                      alert("登录失败："+json.msg);
                    }
                  },
                  error:function(){
                    alert("通信错误");
                  }
                })
          })
    })
  </script>
</html>

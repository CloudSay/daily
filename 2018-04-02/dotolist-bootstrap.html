<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="./js/vue.js"></script>
</head>
<body>
    <div id="app">
        搜索框：<input type="text" v-model="iptSearch"><br>
        <ul class="list-unstyled">
                <li class="media" v-for="val of cptArr">
                  <img class="mr-3" src="..." alt="{{val.id}}">
                  <div class="media-body">
                    <h5 class="mt-0 mb-1">{{val.username}}</h5>
                    {{val.content}}
                  </div>
                </li>
        </ul>
<!-- 
                <div class="media" v-for="val of cptArr">
                    <div class="mr-3" >{{val.id}}</div>
                    <div class="media-body">
                        <h5 class="mt-0">{{val.username}}</h5>
                        {{val.content}}
                    </div>
                </div> -->
     
        <input type="text" v-model="iptUserName"><br>
        <textarea cols="30" rows="10" v-model="iptContent">{{iptContent}}</textarea><br>
        <input type="button" value="提交" @click='add'>
        <ul>
            <li v-for="(item,index) of list">
                <span>{{item.id}}-----{{item.content}}</span>-------<i>{{item.username}}</i>
                <a href="#" @click= 'del(index)'>删除</a>
                <a href="#" @click= 'check(index)'>修改</a>
                
            </li>
        </ul>
        <input type="button" value="清空" @click='removeAll'>
        <div v-show = "bl" >
            <input type="text" v-model="cheUserName"><br>
            <textarea cols="30" rows="10" v-model="cheContent">{{iptContent}}</textarea><br>
            <input type="button" value="确定" @click='check1'>
        </div>
    </div>
    
</body>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
    let vm = new Vue({   // VM
        // key选项：value
        // el:'选择器'
        el:'#app',
        
        data:{// moder M
         index:0,
         bl:false,
         iptUserName:'',
         iptContent:'',
         cheUserName:'',
         cheContent:'',
         iptSearch:'',
         list:[
             
         ]
        },
        methods:{
            add:function(){
                this.list.push({
                    id:this.list.length+1,
                    username:this.iptUserName,
                    content:this.iptContent,
                })
            },
            del:function(index){
                this.list.splice(index,1)
            },
            removeAll:function(){
                this.list=[]
            },
            check:function(index){
                this.index= index;
               this.cheUserName  = this.list[index].username;
               this.cheContent  = this.list[index].content;
                this.bl=!this.bl;
            },
            check1:function(){
                this.list[this.index].username = this.cheUserName;
                this.list[this.index].content = this.cheContent;
                this.bl=!this.bl;
            }
        },
        computed:{
            cptArr:function(){
                let result = [];
                // this.arr.forEach((val,index) => {
                //     if (val.indexOf(this.iptSearch) != -1){
                //         result.push(val)
                //     }
                // });
                this.list.forEach(function(val,index){
                    let str = val.username +val.content;
                    if (str.indexOf(this.iptSearch) != -1){
                        result.push(val)
                    };
                }.bind(this));
                return result
            }
        }

    });
</script>
</html>